<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Práctica conjunta de Callback, Promise & async (await)</title>
</head>
<body>
  <h1>
    Práctica conjunta de Callback, Promise & async (await).
  </h1>
  <script>

    function callPractice (valUno,callB){
      setTimeout(() => {
        callB(valUno, valUno * valUno)
      }, 1500);
    }

    callPractice(1,(valUno, resultado)=>{
      console.log("################### INICIO DE CALLBACK #######################")
      console.log(`CallBack Uno= ${valUno}, ${resultado}`);
        callPractice(2,(valUno, resultado)=>{
          console.log(`CallBack Uno= ${valUno}, ${resultado}`);
            callPractice(3,(valUno, resultado)=>{
              console.log(`CallBack Uno= ${valUno}, ${resultado}`);
                callPractice(4,(valUno, resultado)=>{
                  console.log(`CallBack Uno= ${valUno}, ${resultado}`);
                    callPractice(5,(valUno, resultado)=>{
                      console.log(`CallBack Uno= ${valUno}, ${resultado}`);
                      console.log("******************// FINALIZACIÓN DE CALLBACK //***************");
                    })
                })
            })
        })
    })

// de está función que sera promesa, se reusara para hacer consumo en async
    
  function promisePractice (valDos){
    if(typeof valDos !== "number"){
    return Promise.reject(`El carácter ingresado "${valDos}" no es de tipo Número, verifique e intente nuevamente`);
  }

      return new Promise((resultDos, tipoRechazo)=>{
        setTimeout(() => {
          resultDos({
            valDos,
            resultDos: valDos * valDos
          })
        }, 1800);
      })
  }

  promisePractice(6)
  .then((obj)=>{
    console.log("######################### INICIO DE PROMISE ##########################")
    console.log(`Promise Uno= ${obj.valDos}, ${obj.resultDos}`);
    return promisePractice(7)
  })
  .then((obj)=>{
    console.log(`Pormise Uno= ${obj.valDos}, ${obj.resultDos}`);
    return promisePractice(8)
  })
  .then((obj)=>{
    console.log(`Promise Uno= ${obj.valDos}, ${obj.resultDos}`);
    return promisePractice(9)
  })
  .then((obj)=>{
    console.log(`Promise Uno= ${obj.valDos}, ${obj.resultDos}`);
    return promisePractice(10)
  })
  .then((obj)=>{
    console.log(`Promise Uno= ${obj.valDos}, ${obj.resultDos}`);
    console.log("*********************************// FINALIZACIÓN DE PROMISE UNO //*************************** ");
  })
  .catch((errorUno)=>console.error(errorUno));

  </script>
</body>
</html>