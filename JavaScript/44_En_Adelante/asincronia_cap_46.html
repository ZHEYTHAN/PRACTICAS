<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Asíncronia en JavaScript</title>
  </head>
  <body>
    <h1>Asíncronia en JavaScript Capitulo 46 --- CALL BACKS ---</h1>

    <script>
       function cuadradoCallback(value, callback){
        setTimeout(() => {
          callback(value, value*value);
        }, 0|Math.random()*1000);

       }

       cuadradoCallback(0, (value, result)=>{
        console.log("Inicia Callback");
        console.log(`CallBack: ${value}, ${result}`);
          cuadradoCallback(1, (value, result)=>{
            console.log(`CallBack: ${value}, ${result}`);
              cuadradoCallback(2, (value, result)=>{
                console.log(`CallBack: ${value}, ${result}`);
                  cuadradoCallback(3, (value, result)=>{
                    console.log(`CallBack: ${value}, ${result}`);
                      cuadradoCallback(4, (value, result)=>{
                        console.log(`CallBack: ${value}, ${result}`);
                          cuadradoCallback(5, (value, result)=>{
                            console.log(`CallBack: ${value}, ${result}`);
                            console.log("Fin CallBacks");
                            console.log("Callback Hell!!");
                            console.log("https://callbackhell.com/");
                            });
                         });
                      });
                   });
              });
       });

       //
       console.clear();
       /*
       ************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
       */

       // PRACTICA PARTE UNO---- //

       function duplicadoCallback (valor, secondCallBack){
        setTimeout(() => {
          secondCallBack(valor, valor * valor);
        }, 0| Math.random()*1000);
       };

       duplicadoCallback(6,(valor, resultado)=>{
        console.log("Inicio de intento dos");
        console.log(`CallBack: ${valor}, ${resultado}`);
          duplicadoCallback(7,(valor, resultado)=>{
            console.log(`Callback= ${valor}, ${resultado}`);
              duplicadoCallback(8,(valor, resultado)=>{
               console.log(`Callback: ${valor}, ${resultado}`);
                duplicadoCallback(9,(valor, resultado)=>{
                  console.log(`Callback= ${valor}, ${resultado}`);
                    duplicadoCallback(10,(valor, resultado)=>{
                      console.log(`Callback: ${valor}, ${resultado}`);
                      console.log("Fin de intento Dos");
                });
              });
            });
          });
       })

       /*
       ************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************
       */

       function tercerCallBack (val, threeCallBack){
        setTimeout(() => {
          threeCallBack(val, val * val)
        }, 0 | Math.random() *10000);
       };

       tercerCallBack(11,(val, resulter)=>{
        console.log("Inicio de tercer intento");
        console.log(`CallBack== ${val}, ${resulter}`);
          tercerCallBack(12,(val, resulter)=>{
            console.log(`CallBack:: ${val}, ${resulter}`);
              tercerCallBack(13,(val, resulter)=>{
                console.log(`CaLlBaCk= ${val}, ${resulter}`);
                  console.log("Finalización de tercer intento")
              })
          })
       });



    </script>
  </body>
</html>
